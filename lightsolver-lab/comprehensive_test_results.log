================================================================================
COMPREHENSIVE LPU TEST SUITE
================================================================================

Loading: ../rbuilder/knapsack_instance_21200000.json
Total transactions: 2005
Profitable: 75 (use only 15,602,695 gas)

Base alpha: 3.98e+09

================================================================================
TEST 1: n=75 (ALL PROFITABLE TRANSACTIONS)
================================================================================
Optimal solution: Select all 75 (trivial test)

Greedy (should select all 75):
  Selected: 75/75
  Profit: 0.019476 ETH
  Gas: 52.0%

LPU with different alphas:
Alpha           Norm   Selected   Profit (ETH)    Gas %      Status
--------------------------------------------------------------------------------
3.98e+09        Yes    40         0.014108        25.8       ❌
3.98e+09        No     48         0.016014        27.8       ❌
3.98e+07        Yes    35         0.005393        25.6       ❌
3.98e+07        No     37         0.005899        26.8       ❌
3.98e+05        Yes    35         0.013580        24.0       ❌
3.98e+05        No     37         0.014053        24.9       ❌
3.98e+03        Yes    38         0.006329        27.3       ❌
3.98e+03        No     37         0.004557        26.5       ❌

================================================================================
TEST 2: n=200 (75 PROFITABLE + 125 ZEROS)
================================================================================
Test: Can LPU discriminate and select only profitable?
Profitable in first 200: 5

Greedy on n=200:
  Selected: 200
  Profit: 0.001187 ETH
  Gas: 60.7%

LPU on n=200:
Alpha           Norm   Selected   Profit (ETH)    Gas %      vs Greedy
--------------------------------------------------------------------------------
3.98e+05        Yes    81         0.000508        31.7           -57.2%
3.98e+05        No     119        0.001182        29.3            -0.4%
3.98e+04        Yes    117        0.000515        28.1           -56.6%
3.98e+04        No     80         0.000672        31.9           -43.4%
3.98e+03        Yes    120        0.001182        29.6            -0.4%
3.98e+03        No     119        0.000371        28.6           -68.8%

================================================================================
TEST 3: EMULATOR SIZE LIMIT
================================================================================

Testing n=250...
  ✅ n=250 WORKS!
     Selected: 153
     Profit: 0.000156 ETH
     Gas: 36.2%

Testing n=300...
  ✅ n=300 WORKS!
     Selected: 173
     Profit: 0.000824 ETH
     Gas: 41.6%

================================================================================
TEST SUITE COMPLETE
================================================================================
